
{% extends "common/base.html" %}
{% load static %}
{% load myfilters %}


{% block body %}
<div id="main-container">
    {% include "includes/nav.html"%}
</div>

<div class="form-wrapper">
    <h2>Change Password</h2>
    <form action="{% url 'password_change' %}" method="POST">
        {%  csrf_token %}
        
        {{ form.errors }}
        <div class="my-form-control">
            {{ form.old_password}}
            <label for="id_old_password">Old Password:</label>
        </div>
        <div class="my-form-control">
            {{ form.new_password1}}
            <label for="id_new_password1">New Password:</label>
        </div>
        <div class="my-form-control">
            {{ form.new_password2}}
            <label for="id_new_password2">Confirm Password:</label>
        </div>
        <button type="submit">Change Password</button>
    </form>
</div>
{% endblock %}

{% block js %}
<script>
    let inputs = document.querySelectorAll('input');
    for (let input of inputs){
        input.addEventListener("change", () => {
            if (input.value != '' && input.type != "checkbox"){
                input.nextElementSibling.style.display = "none";
            }
            else{
                input.nextElementSibling.style.display = "block";
            }
        })
    }
</script>
{% endblock %}